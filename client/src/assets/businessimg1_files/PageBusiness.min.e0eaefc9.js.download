var _createClass=function(){function n(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}();function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}var PageBusiness=function(){function i(e){_classCallCheck(this,i);this.options=Object.assign({},{animationContainer:".js-panel",animationSelector:".js-animate",animationFinishedClass:"business-animation--done",graphElem:".js-draw",graphCssPrefix:"business-draw__",graphLines:4,graphs:[{value:"25px",label:"5K",color:"#ff6521"},{value:"60px",label:"19K",color:"#ff7621"},{value:"108px",label:"65K",color:"#ff8721"},{value:"196px",label:"115K",color:"#ff9021"},{value:"290px",label:"171K",color:"#ff9b21"}],isMobile:!1,appWidth:0,breakpoint:740},e),this.init()}return _createClass(i,[{key:"init",value:function(){var t=this;inView.threshold(.35),inView(this.options.animationContainer).on("enter",function(e){var i=e.querySelectorAll(t.options.animationSelector);Array.prototype.forEach.call(i,function(e){e.classList.add(t.options.animationFinishedClass)}),null!==e.querySelector(t.options.graphElem)&&t.animate()});var i=void 0;window.addEventListener("resize",function(e){clearTimeout(i),i=setTimeout(function(){t.options.appWidth!==window.innerWidth&&(document.querySelector(t.options.graphElem).classList.remove(t.options.animationFinishedClass),t.animate())},500)})}},{key:"animate",value:function(){this.options.appWidth=window.innerWidth,this.options.isMobile=this.options.appWidth<=this.options.breakpoint,document.querySelector(this.options.graphElem).classList.contains(this.options.animationFinishedClass)||(document.querySelector(this.options.graphElem).innerHTML="",this.animateValues(),this.animateLines()),document.querySelector(this.options.graphElem).classList.add(this.options.animationFinishedClass)}},{key:"animateValues",value:function(){var o=this;this.options.graphs.forEach(function(e,i){var t=document.createElement("label");t.classList.add(o.options.graphCssPrefix+"name"),t.innerHTML=e.label;var n=document.createElement("span");n.classList.add(o.options.graphCssPrefix+"track"),n.style.backgroundColor=e.color;var a=document.createElement("div");a.classList.add(o.options.graphCssPrefix+"slot");var s=o.options.isMobile?"col-1":"col-1"+o.options.graphs.length;a.classList.add(s),n.append(t),a.append(n),document.querySelector(o.options.graphElem).append(a),o.options.isMobile?TweenLite.to(n,1,{width:e.value}):TweenLite.to(n,1,{height:e.value})})}},{key:"animateLines",value:function(){for(var e=document.querySelector(this.options.graphElem),i=1;i<=this.options.graphLines;i++){var t=document.createElement("div");if(t.classList.add(this.options.graphCssPrefix+"line"),e.append(t),this.options.isMobile){var n=e.clientWidth/parseInt(this.options.graphLines)*i;t.style.left=n+"px",TweenLite.to(t,1,{height:e.clientHeight+"px"})}else{var a=e.clientHeight/parseInt(this.options.graphLines)*i-e.clientHeight/parseInt(this.options.graphLines)/2;t.style.top=a+"px",TweenLite.to(t,1,{width:e.clientWidth+"px"})}}}}]),i}();window.addEventListener("loadedDeferredStyles",function(e){new PageBusiness});